<!DOCTYPE html>
<html lang="en">

  <head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
     <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
     <title> Contact </title>
  </head>
  
  <body style="background-color:rgb(25, 188, 228);">

     <div class="container">   
     <fieldset style="background-color:powderblue;">
     <h2 style="margin: 20px;"> Book a Call </h2>
     <p style="margin: 20px;"> Book a call slot and our representatives will call you within 1 hour of the selected time </p>
     <hr> 
     <form id="addForm" action="#" onsubmit="bookAppointment()" novalidate style="margin: 20px;"><b></b>
         <b> Name: &nbsp; <input type="text" id="name" class="form-control" placeholder="Enter Your Name"> </b>
         <br> <br>
         <b> E-mail ID: &nbsp; <input type="text" id="mail" class="form-control" placeholder="Enter Your E-mail ID"> </b>
         <div class="invalid-feedback"> Invalid E-mail </div>
         <div class="valid-feedback"> Valid E-mail </div>
         <br> <br>
         <b> Contact Number: &nbsp; <input type="text" id="phone" class="form-control" placeholder="Enter Your Contact Number"> </b>
         <br> <br> 
         <b> Time For Call: <input type="date" id="date" class="form-control"> <br> <input type="time" id="time" class="form-control"> </b> <br>
         <input type="submit" class="btn btn-primary" value="Get a Call">
     </form>

      <ul id="items" class="list-group">
         <li class="list-group-item"></li>
      </ul>
     </div>
     </fieldset>

     <script>
      function bookAppointment()
      {
         const name = document.getElementById("name").value;
         // localStorage.setItem("Name", name);
         const mail = document.getElementById("mail").value;
         // localStorage.setItem("E-mail ID", mail);
         const phone = document.getElementById("phone").value;
         // localStorage.setItem("Phone Number", phone);
         const date = document.getElementById("date").value;
         // // localStorage.setItem("Appointment Date", date);
         const time = document.getElementById("time").value;
         // // localStorage.setItem("Appointment Time", time);

         let myObj = {
            Name: name,
            Mail: mail,
            Conatct: phone,
            Date: date,
            Time: time
         };

         let myObj_serialized = JSON.stringify(myObj);
         localStorage.setItem(mail, myObj_serialized);
         let myObj_deserialized = JSON.parse(localStorage.getItem(mail));
         alert("Appointment Booked");
      }

         var newForm = document.getElementById('addForm');
         var itemList = document.getElementById('items');

         newForm.addEventListener('submit', addItem);

         function addItem(e)
         {
            e.preventDefault();

            // Get input value
            var newName = document.getElementById('name').value;
            var newMail = document.getElementById('mail').value;
            var newPhone = document.getElementById('phone').value;
            var newDate = document.getElementById('date').value;
            var newTime = document.getElementById('time').value;

            // Create new li element
            var li = document.createElement('li');

            // Add class
            li.className = 'list-group-item';

            // Add text node with input value
            li.appendChild(document.createTextNode(newName + " - " + newMail + " - " + newPhone + " - " + newDate + " - " + newTime)); 
            

            // Append li to list
            itemList.appendChild(li);  
         }

      // const form = document.querySelector("form")
      // form.addEventListener('submit', e =>
      // {
      //    if (!form.checkValidity())
      //    {
      //       e.preventDefault()
      //    }
      //    form.classList.add('was-validated')
      // })

     </script>

  </body>
</html>